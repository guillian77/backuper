<?= $varToJavascript('dirs', $dirs); ?>
<?= $varToJavascript('dir_ids', $dir_ids); ?>

<link href="/plugins/backuper/assets/app.css" rel="stylesheet" />
<script src="/plugins/backuper/assets/app.js" type= "module"  defer></script>

<h1>Remote backup</h1>

<form id="backuper-form" action method="post">

    <!-- TARGET list -->
    <div class="input-category" id="target_dir_list">
        <h2 class="title">
            Target
            <span class="icon-u-plus btn add" title="Add one target directory." data-type="target"></span>
        </h2>

        <p class="input-info">A list of target where <b>Backup</b> will be saved.</p>
    </div>

    <!-- BACKUP list -->
    <div class="input-category" id="backup_dir_list">
        <h2 class="title">
            To Backup
            <span class="icon-u-plus btn add" title="Add one backup directory." data-type="backup"></span>
        </h2>

        <p class="input-info">A list of directory to backup in <b>Target</b>.</p>
    </div>

    <div class="input-category">
        <h2 class="title">Configuration</h2>

        <div class="input-row checkbox">
            <label for="backup_enabled">Backup:</label>
            <input type="checkbox" name="backup_enabled" id="backup_enabled">
            <p class="input-info">Backup is enabled when this checkbox is ticket.</p>
        </div>

        <div class="input-row checkbox">
            <label for="purge_enabled">Purge:</label>
            <input type="checkbox" name="purge_enabled" id="purge_enabled">
            <p class="input-info">Purge is enabled when this checkbox is ticket.</p>
        </div>

        <div class="input-row">
            <label for="retention_days">Retention days:</label>
            <input type="number" name="retention_days" placeholder="7" id="retention_days" />
            <p class="input-info">Retention in day(s) before purging old backups. Only if Purge enabled.</p>
        </div>
    </div>

    <button type="submit">Save</button>
    <button type="button">Cancel</button>

    <input type="hidden" id="deleted_dirs" name="deleted_dirs" value="[]" />
</form>
